<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabla de Pinyin Mandarín con Audio</title>
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            padding: 0;
            margin: 0;
            background-color: #fff;
        }

        #pinyin_chart {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        #chart_title {
            font-size: 28px;
            font-weight: normal;
            text-align: center;
            margin: 20px 0 10px;
            color: #000;
        }

        #chart_controls {
            padding: 10px;
            text-align: center;
            background: white;
            margin-bottom: 0;
        }

        #chart_controls label {
            font-weight: normal;
            color: #666;
            font-size: 13px;
            margin-right: 8px;
        }

        #chart_controls select {
            padding: 4px 8px;
            border: 1px solid #ccc;
            font-size: 13px;
            cursor: pointer;
        }

        #chart-container {
            overflow-x: auto;
            background: white;
            padding: 0;
        }

        /* Estilos para la tabla tablepress */
        .tablepress {
            border-collapse: collapse;
            font-size: 12px;
            width: auto;
            background: white;
            border: 1px solid #000;
            margin: 0 auto;
        }

        .tablepress thead th {
            background-color: #ff7070;
            border: 1px solid #000;
            font-weight: bold;
            padding: 1px;
            font-size: 12px;
            text-align: center;
            min-width: 24px;
        }

        .tablepress tbody td {
            border-left: 1px solid #000;
            border-right: 1px solid #000;
            padding: 1px;
            text-align: center;
            min-width: 24px;
            font-weight: normal;
            cursor: pointer;
            background-color: white;
            transition: background-color 0.1s;
        }

        .tablepress tbody td:first-child {
            background-color: #ffb570;
            font-weight: bold;
            cursor: pointer;
        }

        .tablepress tbody td:empty {
            border-top: none;
            border-bottom: none;
            cursor: default;
        }

        .tablepress tbody td:hover:not(:empty):not(:first-child) {
            background-color: #e8f4ff;
        }

        .tablepress tbody td:first-child:hover {
            background-color: #f0f0f0;
        }

        .tablepress tbody tr.row-2 td,
        .tablepress tbody tr.row-3 td {
            border-top: 1px solid #000;
        }

        .tablepress tbody tr.row-7 td,
        .tablepress tbody tr.row-11 td,
        .tablepress tbody tr.row-14 td,
        .tablepress tbody tr.row-18 td,
        .tablepress tbody tr.row-21 td,
        .tablepress tbody tr.row-24 td {
            border-top: 1px solid #000;
        }

        tr.highlight td {
            background-color: #FFD1D1;
        }

        tr.highlight td:first-child {
            background-color: #FFD8A8;
        }

        td.current-cell {
            background-color: #FF5E00 !important;
        }

        #snd_player {
            position: absolute;
            background-color: #fff;
            border: 1px solid #999;
            padding: 12px;
            border-radius: 8px;
            display: none;
            box-shadow: 2px 4px 12px rgba(0,0,0,0.3);
            z-index: 1000;
        }

        #snd_player a {
            display: block;
            padding: 10px 15px;
            background-color: #e3e3e3;
            border: 1px solid #bbb;
            margin-bottom: 6px;
            border-radius: 20px;
            color: #333;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            transition: all 0.2s;
        }

        #snd_player a:hover {
            background-color: #fed;
            border-color: #f94;
        }

        #snd_player a:active {
            transform: scale(0.95);
        }

        .pointer {
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
        }

        .pointer.left {
            left: -10px;
            top: 50%;
            transform: translateY(-50%);
            border-width: 10px 10px 10px 0;
            border-color: transparent #999 transparent transparent;
        }

    </style>
</head>
<body>
    <div id="pinyin_chart">
        <h2 id="chart_title">Tabla de Pinyin Mandarín con Audio</h2>
        
        <div id="chart_controls">
            <label>Al hacer clic:
                <select class="click_rule" id="clickRule">
                    <option value="">Mostrar menú de tonos</option>
                    <option value="1">Reproducir 1er tono</option>
                    <option value="2">Reproducir 2do tono</option>
                    <option value="3">Reproducir 3er tono</option>
                    <option value="4">Reproducir 4to tono</option>
                </select>
            </label>
        </div>

        <div id="chart-container">
            <table id="tablepress-148" class="notranslate tablepress tablepress-id-148 tablepress-responsive">
<thead>
<tr class="row-1">
	<th class="column-1"></th><th colspan="5" class="column-2">A</th><th colspan="3" class="column-7">O</th><th colspan="5" class="column-10">E</th><th colspan="10" class="column-15">I</th><th colspan="8" class="column-25">U</th><th colspan="4" class="column-33">Ü</th>
</tr>
</thead>
<tbody>
<tr class="row-2">
	<td class="column-1"></td><td class="column-2"><b>a</b></td><td class="column-3"><b>ai</b></td><td class="column-4"><b>ao</b></td><td class="column-5"><b>an</b></td><td class="column-6"><b>ang</b></td><td class="column-7"><b>o</b></td><td class="column-8"><b>ong</b></td><td class="column-9"><b>ou</b></td><td class="column-10"><b>e</b></td><td class="column-11"><b>ei</b></td><td class="column-12"><b>en</b></td><td class="column-13"><b>eng</b></td><td class="column-14"><b>er</b></td><td class="column-15"><b>i</b></td><td class="column-16"><b>ia</b></td><td class="column-17"><b>iao</b></td><td class="column-18"><b>ie</b></td><td class="column-19"><b>iu</b></td><td class="column-20"><b>ian</b></td><td class="column-21"><b>iang</b></td><td class="column-22"><b>in</b></td><td class="column-23"><b>ing</b></td><td class="column-24"><b>iong</b></td><td class="column-25"><b>u</b></td><td class="column-26"><b>ua</b></td><td class="column-27"><b>uo</b></td><td class="column-28"><b>ui</b></td><td class="column-29"><b>uai</b></td><td class="column-30"><b>uan</b></td><td class="column-31"><b>un</b></td><td class="column-32"><b>uang</b></td><td class="column-33"><b>ü</b></td><td class="column-34"><b>üe</b></td><td class="column-35"><b>üan</b></td><td class="column-36"><b>ün</b></td>
</tr>
<tr class="row-3">
	<td class="column-1"><b>b</b></td><td class="column-2">ba</td><td class="column-3">bai</td><td class="column-4">bao</td><td class="column-5">ban</td><td class="column-6">bang</td><td class="column-7">bo</td><td class="column-8"></td><td class="column-9"></td><td class="column-10"></td><td class="column-11">bei</td><td class="column-12">ben</td><td class="column-13">beng</td><td class="column-14"></td><td class="column-15">bi</td><td class="column-16"></td><td class="column-17">biao</td><td class="column-18">bie</td><td class="column-19"></td><td class="column-20">bian</td><td class="column-21"></td><td class="column-22">bin</td><td class="column-23">bing</td><td class="column-24"></td><td class="column-25">bu</td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-4">
	<td class="column-1"><b>p</b></td><td class="column-2">pa</td><td class="column-3">pai</td><td class="column-4">pao</td><td class="column-5">pan</td><td class="column-6">pang</td><td class="column-7">po</td><td class="column-8"></td><td class="column-9">pou</td><td class="column-10"></td><td class="column-11">pei</td><td class="column-12">pen</td><td class="column-13">peng</td><td class="column-14"></td><td class="column-15">pi</td><td class="column-16"></td><td class="column-17">piao</td><td class="column-18">pie</td><td class="column-19"></td><td class="column-20">pian</td><td class="column-21"></td><td class="column-22">pin</td><td class="column-23">ping</td><td class="column-24"></td><td class="column-25">pu</td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-5">
	<td class="column-1"><b>m</b></td><td class="column-2">ma</td><td class="column-3">mai</td><td class="column-4">mao</td><td class="column-5">man</td><td class="column-6">mang</td><td class="column-7">mo</td><td class="column-8"></td><td class="column-9">mou</td><td class="column-10"></td><td class="column-11">mei</td><td class="column-12">men</td><td class="column-13">meng</td><td class="column-14"></td><td class="column-15">mi</td><td class="column-16"></td><td class="column-17">miao</td><td class="column-18">mie</td><td class="column-19">miu</td><td class="column-20">mian</td><td class="column-21"></td><td class="column-22">min</td><td class="column-23">ming</td><td class="column-24"></td><td class="column-25">mu</td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-6">
	<td class="column-1"><b>f</b></td><td class="column-2">fa</td><td class="column-3"></td><td class="column-4"></td><td class="column-5">fan</td><td class="column-6">fang</td><td class="column-7">fo</td><td class="column-8"></td><td class="column-9">fou</td><td class="column-10"></td><td class="column-11">fei</td><td class="column-12">fen</td><td class="column-13">feng</td><td class="column-14"></td><td class="column-15"></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">fu</td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-7">
	<td class="column-1"><b>d</b></td><td class="column-2">da</td><td class="column-3">dai</td><td class="column-4">dao</td><td class="column-5">dan</td><td class="column-6">dang</td><td class="column-7"></td><td class="column-8">dong</td><td class="column-9">dou</td><td class="column-10">de</td><td class="column-11">dei</td><td class="column-12"></td><td class="column-13">deng</td><td class="column-14"></td><td class="column-15">di</td><td class="column-16"></td><td class="column-17">diao</td><td class="column-18">die</td><td class="column-19">diu</td><td class="column-20">dian</td><td class="column-21"></td><td class="column-22"></td><td class="column-23">ding</td><td class="column-24"></td><td class="column-25">du</td><td class="column-26"></td><td class="column-27">duo</td><td class="column-28">dui</td><td class="column-29"></td><td class="column-30">duan</td><td class="column-31">dun</td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-8">
	<td class="column-1"><b>t</b></td><td class="column-2">ta</td><td class="column-3">tai</td><td class="column-4">tao</td><td class="column-5">tan</td><td class="column-6">tang</td><td class="column-7"></td><td class="column-8">tong</td><td class="column-9">tou</td><td class="column-10">te</td><td class="column-11"></td><td class="column-12"></td><td class="column-13">teng</td><td class="column-14"></td><td class="column-15">ti</td><td class="column-16"></td><td class="column-17">tiao</td><td class="column-18">tie</td><td class="column-19"></td><td class="column-20">tian</td><td class="column-21"></td><td class="column-22"></td><td class="column-23">ting</td><td class="column-24"></td><td class="column-25">tu</td><td class="column-26"></td><td class="column-27">tuo</td><td class="column-28">tui</td><td class="column-29"></td><td class="column-30">tuan</td><td class="column-31">tun</td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-9">
	<td class="column-1"><b>n</b></td><td class="column-2">na</td><td class="column-3">nai</td><td class="column-4">nao</td><td class="column-5">nan</td><td class="column-6">nang</td><td class="column-7"></td><td class="column-8">nong</td><td class="column-9">nou</td><td class="column-10">ne</td><td class="column-11">nei</td><td class="column-12">nen</td><td class="column-13">neng</td><td class="column-14"></td><td class="column-15">ni</td><td class="column-16"></td><td class="column-17">niao</td><td class="column-18">nie</td><td class="column-19">niu</td><td class="column-20">nian</td><td class="column-21">niang</td><td class="column-22">nin</td><td class="column-23">ning</td><td class="column-24"></td><td class="column-25">nu</td><td class="column-26"></td><td class="column-27">nuo</td><td class="column-28"></td><td class="column-29"></td><td class="column-30">nuan</td><td class="column-31"></td><td class="column-32"></td><td class="column-33">nü</td><td class="column-34">nüe</td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-10">
	<td class="column-1"><b>l</b></td><td class="column-2">la</td><td class="column-3">lai</td><td class="column-4">lao</td><td class="column-5">lan</td><td class="column-6">lang</td><td class="column-7"></td><td class="column-8">long</td><td class="column-9">lou</td><td class="column-10">le</td><td class="column-11">lei</td><td class="column-12"></td><td class="column-13">leng</td><td class="column-14"></td><td class="column-15">li</td><td class="column-16">lia</td><td class="column-17">liao</td><td class="column-18">lie</td><td class="column-19">liu</td><td class="column-20">lian</td><td class="column-21">liang</td><td class="column-22">lin</td><td class="column-23">ling</td><td class="column-24"></td><td class="column-25">lu</td><td class="column-26"></td><td class="column-27">luo</td><td class="column-28"></td><td class="column-29"></td><td class="column-30">luan</td><td class="column-31">lun</td><td class="column-32"></td><td class="column-33">lü</td><td class="column-34">lüe</td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-11">
	<td class="column-1"><b>z</b></td><td class="column-2">za</td><td class="column-3">zai</td><td class="column-4">zao</td><td class="column-5">zan</td><td class="column-6">zang</td><td class="column-7"></td><td class="column-8">zong</td><td class="column-9">zou</td><td class="column-10">ze</td><td class="column-11">zei</td><td class="column-12">zen</td><td class="column-13">zeng</td><td class="column-14"></td><td class="column-15"><b>zi</b></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">zu</td><td class="column-26"></td><td class="column-27">zuo</td><td class="column-28">zui</td><td class="column-29"></td><td class="column-30">zuan</td><td class="column-31">zun</td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-12">
	<td class="column-1"><b>c</b></td><td class="column-2">ca</td><td class="column-3">cai</td><td class="column-4">cao</td><td class="column-5">can</td><td class="column-6">cang</td><td class="column-7"></td><td class="column-8">cong</td><td class="column-9">cou</td><td class="column-10">ce</td><td class="column-11"></td><td class="column-12">cen</td><td class="column-13">ceng</td><td class="column-14"></td><td class="column-15"><b>ci</b></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">cu</td><td class="column-26"></td><td class="column-27">cuo</td><td class="column-28">cui</td><td class="column-29"></td><td class="column-30">cuan</td><td class="column-31">cun</td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-13">
	<td class="column-1"><b>s</b></td><td class="column-2">sa</td><td class="column-3">sai</td><td class="column-4">sao</td><td class="column-5">san</td><td class="column-6">sang</td><td class="column-7"></td><td class="column-8">song</td><td class="column-9">sou</td><td class="column-10">se</td><td class="column-11"></td><td class="column-12">sen</td><td class="column-13">seng</td><td class="column-14"></td><td class="column-15"><b>si</b></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">su</td><td class="column-26"></td><td class="column-27">suo</td><td class="column-28">sui</td><td class="column-29"></td><td class="column-30">suan</td><td class="column-31">sun</td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-14">
	<td class="column-1"><b>zh</b></td><td class="column-2">zha</td><td class="column-3">zhai</td><td class="column-4">zhao</td><td class="column-5">zhan</td><td class="column-6">zhang</td><td class="column-7"></td><td class="column-8">zhong</td><td class="column-9">zhou</td><td class="column-10">zhe</td><td class="column-11">zhei</td><td class="column-12">zhen</td><td class="column-13">zheng</td><td class="column-14"></td><td class="column-15"><b>zhi</b></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">zhu</td><td class="column-26">zhua</td><td class="column-27">zhuo</td><td class="column-28">zhui</td><td class="column-29">zhuai</td><td class="column-30">zhuan</td><td class="column-31">zhun</td><td class="column-32">zhuang</td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-15">
	<td class="column-1"><b>ch</b></td><td class="column-2">cha</td><td class="column-3">chai</td><td class="column-4">chao</td><td class="column-5">chan</td><td class="column-6">chang</td><td class="column-7"></td><td class="column-8">chong</td><td class="column-9">chou</td><td class="column-10">che</td><td class="column-11"></td><td class="column-12">chen</td><td class="column-13">cheng</td><td class="column-14"></td><td class="column-15"><b>chi</b></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">chu</td><td class="column-26">chua</td><td class="column-27">chuo</td><td class="column-28">chui</td><td class="column-29">chuai</td><td class="column-30">chuan</td><td class="column-31">chun</td><td class="column-32">chuang</td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-16">
	<td class="column-1"><b>sh</b></td><td class="column-2">sha</td><td class="column-3">shai</td><td class="column-4">shao</td><td class="column-5">shan</td><td class="column-6">shang</td><td class="column-7"></td><td class="column-8"></td><td class="column-9">shou</td><td class="column-10">she</td><td class="column-11">shei</td><td class="column-12">shen</td><td class="column-13">sheng</td><td class="column-14"></td><td class="column-15"><b>shi</b></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">shu</td><td class="column-26">shua</td><td class="column-27">shuo</td><td class="column-28">shui</td><td class="column-29">shuai</td><td class="column-30">shuan</td><td class="column-31">shun</td><td class="column-32">shuang</td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-17">
	<td class="column-1"><b>r</b></td><td class="column-2"></td><td class="column-3"></td><td class="column-4">rao</td><td class="column-5">ran</td><td class="column-6">rang</td><td class="column-7"></td><td class="column-8">rong</td><td class="column-9">rou</td><td class="column-10">re</td><td class="column-11"></td><td class="column-12">ren</td><td class="column-13">reng</td><td class="column-14"></td><td class="column-15"><b>ri</b></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">ru</td><td class="column-26">rua</td><td class="column-27">ruo</td><td class="column-28">rui</td><td class="column-29"></td><td class="column-30">ruan</td><td class="column-31">run</td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-18">
	<td class="column-1"><b>g</b></td><td class="column-2">ga</td><td class="column-3">gai</td><td class="column-4">gao</td><td class="column-5">gan</td><td class="column-6">gang</td><td class="column-7"></td><td class="column-8">gong</td><td class="column-9">gou</td><td class="column-10">ge</td><td class="column-11">gei</td><td class="column-12">gen</td><td class="column-13">geng</td><td class="column-14"></td><td class="column-15"></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">gu</td><td class="column-26">gua</td><td class="column-27">guo</td><td class="column-28">gui</td><td class="column-29">guai</td><td class="column-30">guan</td><td class="column-31">gun</td><td class="column-32">guang</td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-19">
	<td class="column-1"><b>k</b></td><td class="column-2">ka</td><td class="column-3">kai</td><td class="column-4">kao</td><td class="column-5">kan</td><td class="column-6">kang</td><td class="column-7"></td><td class="column-8">kong</td><td class="column-9">kou</td><td class="column-10">ke</td><td class="column-11">kei</td><td class="column-12">ken</td><td class="column-13">keng</td><td class="column-14"></td><td class="column-15"></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">ku</td><td class="column-26">kua</td><td class="column-27">kuo</td><td class="column-28">kui</td><td class="column-29">kuai</td><td class="column-30">kuan</td><td class="column-31">kun</td><td class="column-32">kuang</td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-20">
	<td class="column-1"><b>h</b></td><td class="column-2">ha</td><td class="column-3">hai</td><td class="column-4">hao</td><td class="column-5">han</td><td class="column-6">hang</td><td class="column-7"></td><td class="column-8">hong</td><td class="column-9">hou</td><td class="column-10">he</td><td class="column-11">hei</td><td class="column-12">hen</td><td class="column-13">heng</td><td class="column-14"></td><td class="column-15"></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">hu</td><td class="column-26">hua</td><td class="column-27">huo</td><td class="column-28">hui</td><td class="column-29">huai</td><td class="column-30">huan</td><td class="column-31">hun</td><td class="column-32">huang</td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-21">
	<td class="column-1"><b>j</b></td><td class="column-2"></td><td class="column-3"></td><td class="column-4"></td><td class="column-5"></td><td class="column-6"></td><td class="column-7"></td><td class="column-8"></td><td class="column-9"></td><td class="column-10"></td><td class="column-11"></td><td class="column-12"></td><td class="column-13"></td><td class="column-14"></td><td class="column-15">ji</td><td class="column-16">jia</td><td class="column-17">jiao</td><td class="column-18">jie</td><td class="column-19">jiu</td><td class="column-20">jian</td><td class="column-21">jiang</td><td class="column-22">jin</td><td class="column-23">jing</td><td class="column-24">jiong</td><td class="column-25"></td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"><b>ju</b></td><td class="column-34">jue</td><td class="column-35"><b>juan</b></td><td class="column-36"><b>jun</b></td>
</tr>
<tr class="row-22">
	<td class="column-1"><b>q</b></td><td class="column-2"></td><td class="column-3"></td><td class="column-4"></td><td class="column-5"></td><td class="column-6"></td><td class="column-7"></td><td class="column-8"></td><td class="column-9"></td><td class="column-10"></td><td class="column-11"></td><td class="column-12"></td><td class="column-13"></td><td class="column-14"></td><td class="column-15">qi</td><td class="column-16">qia</td><td class="column-17">qiao</td><td class="column-18">qie</td><td class="column-19">qiu</td><td class="column-20">qian</td><td class="column-21">qiang</td><td class="column-22">qin</td><td class="column-23">qing</td><td class="column-24">qiong</td><td class="column-25"></td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"><b>qu</b></td><td class="column-34">que</td><td class="column-35"><b>quan</b></td><td class="column-36"><b>qun</b></td>
</tr>
<tr class="row-23">
	<td class="column-1"><b>x</b></td><td class="column-2"></td><td class="column-3"></td><td class="column-4"></td><td class="column-5"></td><td class="column-6"></td><td class="column-7"></td><td class="column-8"></td><td class="column-9"></td><td class="column-10"></td><td class="column-11"></td><td class="column-12"></td><td class="column-13"></td><td class="column-14"></td><td class="column-15">xi</td><td class="column-16">xia</td><td class="column-17">xiao</td><td class="column-18">xie</td><td class="column-19">xiu</td><td class="column-20">xian</td><td class="column-21">xiang</td><td class="column-22">xin</td><td class="column-23">xing</td><td class="column-24">xiong</td><td class="column-25"></td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"><b>xu</b></td><td class="column-34">xue</td><td class="column-35"><b>xuan</b></td><td class="column-36"><b>xun</b></td>
</tr>
<tr class="row-24">
	<td class="column-1"><b>w</b></td><td class="column-2">wa</td><td class="column-3">wai</td><td class="column-4"></td><td class="column-5">wan</td><td class="column-6">wang</td><td class="column-7">wo</td><td class="column-8"></td><td class="column-9"></td><td class="column-10"></td><td class="column-11">wei</td><td class="column-12"><b>wen</b></td><td class="column-13">weng</td><td class="column-14"></td><td class="column-15"></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25">wu</td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
<tr class="row-25">
	<td class="column-1"><b>y</b></td><td class="column-2">ya</td><td class="column-3"></td><td class="column-4">yao</td><td class="column-5"><b>yan</b></td><td class="column-6">yang</td><td class="column-7"></td><td class="column-8">yong</td><td class="column-9">you</td><td class="column-10"><b>ye</b></td><td class="column-11"></td><td class="column-12"></td><td class="column-13"></td><td class="column-14"></td><td class="column-15">yi</td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22">yin</td><td class="column-23">ying</td><td class="column-24"></td><td class="column-25"></td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"><b>yu</b></td><td class="column-34">yue</td><td class="column-35"><b>yuan</b></td><td class="column-36"><b>yun</b></td>
</tr>
<tr class="row-26">
	<td class="column-1"></td><td class="column-2">a</td><td class="column-3">ai</td><td class="column-4">ao</td><td class="column-5">an</td><td class="column-6">ang</td><td class="column-7">o</td><td class="column-8"></td><td class="column-9">ou</td><td class="column-10">e</td><td class="column-11">ei</td><td class="column-12">en</td><td class="column-13">eng</td><td class="column-14">er</td><td class="column-15"></td><td class="column-16"></td><td class="column-17"></td><td class="column-18"></td><td class="column-19"></td><td class="column-20"></td><td class="column-21"></td><td class="column-22"></td><td class="column-23"></td><td class="column-24"></td><td class="column-25"></td><td class="column-26"></td><td class="column-27"></td><td class="column-28"></td><td class="column-29"></td><td class="column-30"></td><td class="column-31"></td><td class="column-32"></td><td class="column-33"></td><td class="column-34"></td><td class="column-35"></td><td class="column-36"></td>
</tr>
</tbody>
</table>
        </div>
    </div>

    <div id="snd_player">
        <span class="pointer left"></span>
        <a data-tone="1">Tono 1: <span class="pinyin-display"></span></a>
        <a data-tone="2">Tono 2: <span class="pinyin-display"></span></a>
        <a data-tone="3">Tono 3: <span class="pinyin-display"></span></a>
        <a data-tone="4">Tono 4: <span class="pinyin-display"></span></a>
    </div>

    <script>
        const audioBasePath = 'https://jpageprojects.github.io/MandarinAudio/audios1/';
        const sndPlayer = document.getElementById('snd_player');
        const clickRuleSelect = document.getElementById('clickRule');

        // Función para formatear pinyin con tonos
        function formatPinyin(pinyin, tone) {
            const toneMarks = {
                'a': ['ā', 'á', 'ǎ', 'à'],
                'e': ['ē', 'é', 'ě', 'è'],
                'i': ['ī', 'í', 'ǐ', 'ì'],
                'o': ['ō', 'ó', 'ǒ', 'ò'],
                'u': ['ū', 'ú', 'ǔ', 'ù'],
                'ü': ['ǖ', 'ǘ', 'ǚ', 'ǜ']
            };

            tone = parseInt(tone) - 1;
            
            // Buscar la vocal principal para agregar el tono
            const vowelPriority = ['a', 'e', 'o', 'iu', 'ui'];
            
            for (let vow of vowelPriority) {
                if (pinyin.includes(vow)) {
                    if (vow === 'iu') {
                        return pinyin.replace('u', toneMarks['u'][tone]);
                    } else if (vow === 'ui') {
                        return pinyin.replace('i', toneMarks['i'][tone]);
                    } else {
                        return pinyin.replace(vow, toneMarks[vow][tone]);
                    }
                }
            }
            
            // Si no encuentra las vocales prioritarias, usa la primera vocal
            for (let char of pinyin) {
                if (toneMarks[char]) {
                    return pinyin.replace(char, toneMarks[char][tone]);
                }
            }
            
            return pinyin;
        }

        // Función para reproducir audio
        function playAudio(pinyin, tone) {
            const audioPath = audioBasePath + pinyin.replace('ü', 'v') + tone + '.mp3';
            const audio = new Audio(audioPath);
            
            audio.onerror = function() {
                console.error('No se pudo cargar el audio:', audioPath);
                alert('Audio no disponible para: ' + pinyin + ' tono ' + tone);
            };
            
            audio.play().catch(err => {
                console.error('Error al reproducir:', err);
            });
        }

        // Función para mostrar el menú de tonos
        function showToneMenu(element, pinyin) {
            const rect = element.getBoundingClientRect();
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
            
            // Calcular la posición vertical centrada con el elemento
            const menuHeight = sndPlayer.offsetHeight || 200;
            const centerY = rect.top + scrollTop + (rect.height / 2) - (menuHeight / 2);
            
            sndPlayer.style.top = centerY + 'px';
            sndPlayer.style.left = (rect.right + scrollLeft + 10) + 'px';
            sndPlayer.style.display = 'block';

            // Actualizar las etiquetas con los tonos
            const links = sndPlayer.querySelectorAll('a');
            links.forEach((link, index) => {
                const tone = index + 1;
                const formattedPinyin = formatPinyin(pinyin, tone);
                link.querySelector('.pinyin-display').textContent = formattedPinyin;
                
                // Remover eventos anteriores
                link.replaceWith(link.cloneNode(true));
            });

            // Agregar nuevos eventos
            sndPlayer.querySelectorAll('a').forEach(link => {
                link.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const tone = this.dataset.tone;
                    playAudio(pinyin, tone);
                };
            });
        }

        // Agregar hover effects
        const pinyinTable = document.getElementById('tablepress-148');
        
        pinyinTable.addEventListener('mouseover', function(e) {
            const cell = e.target.closest('td');
            if (cell && cell.textContent.trim()) {
                const row = cell.parentElement;
                const cellIndex = Array.from(row.children).indexOf(cell);
                
                row.classList.add('highlight');
                
                // Resaltar columna
                const rows = pinyinTable.querySelectorAll('tr');
                rows.forEach(r => {
                    const cells = r.querySelectorAll('th, td');
                    if (cells[cellIndex]) {
                        cells[cellIndex].classList.add('highlight');
                    }
                });
                
                // Agregar clase especial a la celda actual
                cell.classList.add('current-cell');
            }
        });

        pinyinTable.addEventListener('mouseout', function(e) {
            const cell = e.target.closest('td');
            if (cell) {
                pinyinTable.querySelectorAll('.highlight').forEach(el => {
                    el.classList.remove('highlight');
                });
                pinyinTable.querySelectorAll('.current-cell').forEach(el => {
                    el.classList.remove('current-cell');
                });
            }
        });

        // Agregar click handlers
        pinyinTable.addEventListener('click', function(e) {
            const cell = e.target.closest('td');
            if (cell && cell.textContent.trim() && !cell.classList.contains('column-1')) {
                e.stopPropagation();
                let pinyin = cell.textContent.trim();
                
                // Eliminar las etiquetas <b> si existen
                pinyin = pinyin.replace(/<\/?b>/g, '');
                
                const clickRule = clickRuleSelect.value;
                
                if (clickRule) {
                    // Reproducir tono específico
                    playAudio(pinyin, clickRule);
                } else {
                    // Mostrar menú de tonos
                    showToneMenu(cell, pinyin);
                }
            }
        });

        // Cerrar menú al hacer click fuera
        document.addEventListener('click', function(e) {
            if (!sndPlayer.contains(e.target)) {
                sndPlayer.style.display = 'none';
            }
        });

        // Prevenir que el menú se cierre al hacer click dentro
        sndPlayer.addEventListener('click', function(e) {
            e.stopPropagation();
        });
    </script>
</body>
</html>